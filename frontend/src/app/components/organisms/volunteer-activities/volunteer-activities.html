<div class="volunteer-activities-container p-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="fw-bold mb-1">Actividades Disponibles</h2>
            <p class="text-muted mb-0">Encuentra y participa en actividades de voluntariado.</p>
        </div>
    </div>

    <div *ngIf="message" class="alert" [ngClass]="{
      'alert-success': !message.includes('Error'),
      'alert-danger': message.includes('Error')
    }">
        {{ message }}
    </div>

    <div class="activities-grid">
        <div *ngFor="let activity of activities" class="activity-card">
            <div class="card-header">
                <h3>{{ activity.title }}</h3>
                <span class="status-badge" [ngClass]="activity.status?.toLowerCase()">{{
                    activity.status
                    }}</span>
            </div>
            <div class="card-body">
                <p><strong>Descripción:</strong> {{ activity.description }}</p>
                <p><strong>Fecha:</strong> {{ activity.date }}</p>
                <p><strong>Organización:</strong> {{ activity.organization?.name || 'N/A' }}</p>
            </div>
            <div class="card-footer">
                <button *ngIf="isSignedUp(activity.id)" (click)="unsignUp(activity.id)" class="btn btn-danger">
                    Desapuntarse
                </button>
                <button *ngIf="!isSignedUp(activity.id) && activity.status === 'PENDIENTE'"
                    (click)="signUp(activity.id)" class="btn btn-primary">
                    Inscribirse
                </button>
                <button *ngIf="!isSignedUp(activity.id) && activity.status !== 'PENDIENTE'" disabled
                    class="btn btn-disabled">
                    No disponible
                </button>
            </div>
        </div>
    </div>

    <div *ngIf="activities.length === 0" class="text-center text-muted py-5">
        <i class="bi bi-calendar-x fs-1 d-block mb-2"></i>
        No hay actividades disponibles en este momento.
    </div>
</div>